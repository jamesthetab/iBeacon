{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Perfect Numbers\n",
    "\n",
    "## Definition\n",
    "\n",
    "In number theory, a perfect number is a positive integer that is equal to the sum of its proper positive divisors, that is, the sum of its positive divisors excluding the number itself (also known as its aliquot sum). Equivalently, a perfect number is a number that is half the sum of all of its positive divisors (including itself) i.e. $\\sigma_1(n) = 2n$.\n",
    "\n",
    "This definition is ancient, appearing as early as Euclid's Elements ($VII.22$) where it is called a perfect, ideal, or complete number. Euclid also proved a formation rule (IX.36) whereby $q(q+1)/2$ is an even perfect number whenever $q$ is what is now called a Mersenne prime - a prime of the form $2^p -1$ for prime $p$. Much later, Euler proved that all even perfect numbers are of this form. This is known as the Euclid–Euler theorem.\n",
    "\n",
    "It is not known whether there are any odd perfect numbers, nor whether infinitely many perfect numbers exist."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Examples\n",
    "\n",
    "The first perfect number is $6$, because $1$, $2$, and $3$ are its proper positive divisors, and $1 + 2 + 3 = 6$. Equivalently, the number $6$ is equal to half the sum of all its positive divisors: $( 1 + 2 + 3 + 6 ) / 2 = 6$. The next perfect number is $28 = 1 + 2 + 4 + 7 + 14$. This is followed by the perfect numbers $496$ and $8128$ (sequence $A000396$ in OEIS).\n",
    "\n",
    "Over a millennium after Euclid, Ibn al-Haytham circa $1000$ AD conjectured that every even perfect number is of the form $2^{p−1}(2^p − 1)$ where $2p − 1$ is prime, but he was not able to prove this result. It was not until the $18$th century that Leonhard Euler proved that the formula $2^{p−1}(2^p − 1)$ will yield all the even perfect numbers. Thus, there is a one-to-one relationship between even perfect numbers and Mersenne primes; each Mersenne prime generates one even perfect number, and vice versa. This result is often referred to as the Euclid–Euler theorem. As of January $2016$, $49$ Mersenne primes are known, and therefore $49$ even perfect numbers (the largest of which is $274207280 × (274207281 − 1)$ with $44,677,235$ digits).\n",
    "\n",
    "An exhaustive search by the GIMPS distributed computing project has shown that the first $44$ even perfect numbers are of the form $2^{p−1}(2^p − 1)$ for\n",
    "\n",
    "$$p = 2, 3, 5, 7, 13, 17, 19, 31, 61, 89, 107, 127, 521,\\\\\n",
    "607, 1279, 2203, 2281, 3217, 4253, 4423, 9689, 9941, 11213,\\\\\n",
    "19937, 21701, 23209, 44497, 86243, 110503, 132049, 216091, \\\\\n",
    "756839, 859433, 1257787, 1398269, 2976221, 3021377,6972593, \\\\\n",
    "13466917, 20996011, 24036583, 25964951, 30402457,32582657$$"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Structure\n",
    "\n",
    "As well as having the form $2^{p−1}(2^p − 1)$, every known perfect number is the $(2p − 1)$th triangular number (and hence equal to the sum of the integers from 1 to 2p − 1) and is equal to the sum of the first $2(p−1)/2$ odd cubes (for perfect numbers other than $6$).\n",
    "\n",
    "\\begin{eqnarray}\n",
    "6 &=& 2^1(2^2-1) &=& 1+2+3 \\\\\n",
    "28 &=& 2^2(2^3-1) &=& 1+2+3+4+5+6+7 &=& 1^3+3^3\\\\\n",
    "496 &=& 2^4 (2^5-1) &=& 1+2+\\dots +31 &=& 1^3+3^3+5^3+7^3\\\\\n",
    "8128 &=& 2^6(2^7-1) &=& 1+2 + \\dots +126 +127 &=& 1^3+3^3 + \\dots 13^3 + 15^3\\\\\n",
    "33550336 &=& 2^12(2^13-1) &=& 1+2+3+\\dots +8190+8191 &=& 1^3+3^3+\\dots +125^3+127^3\n",
    "\\end{eqnarray}"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Basic Code\n",
    "\n",
    "I define a very simple (and rather inefficient) code below to check for divisors of a number and then add them up. The key is the command $a\\% b$ which returns the remainder when $a$ is divided by $b$. No remainder implies $b$ is a factor of $a$."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "def sumf(x):\n",
    " return sum([n for n in xrange(1,x) if x % n == 0])\n",
    "\n",
    "i=1\n",
    "while i<10000:\n",
    "   if sumf(i)==i:\n",
    "       print(i)\n",
    "   i = i+1"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 2",
   "language": "python",
   "name": "python2"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 2
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython2",
   "version": "2.7.10"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 0
}
